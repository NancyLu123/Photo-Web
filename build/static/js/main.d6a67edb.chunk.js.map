{"version":3,"sources":["components/Nav.js","components/Footer.js","components/Search.js","components/Picture.js","pages/Homepage.js","App.js","index.js"],"names":["Nav","className","to","Footer","Search","search","setInput","onChange","e","target","value","type","onClick","Picture","data","photographer","href","src","large","alt","Homepage","useState","input","setData","page","setPage","currentSearch","setCurrentSearch","auth","intialURL","searchURL","url","a","fetch","method","headers","Accept","Authorization","dataFetch","json","parsedData","photos","morepicture","newURL","concat","useEffect","style","minHeight","map","d","App","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mLAqBeA,EAlBH,WACV,OACE,8BACE,+BACE,oBAAIC,UAAU,QAAd,SACE,qDAEF,6BACE,cAAC,IAAD,CAAMC,GAAG,QAEX,6BACE,cAAC,IAAD,CAAMA,GAAG,mB,iBCHJC,EATA,WACb,OACE,sBAAKF,UAAU,SAAf,+CAEE,uE,iCCSSG,EAbA,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAKxB,OACE,sBAAKL,UAAU,SAAf,UACE,uBAAOA,UAAU,QAAQM,SANR,SAACC,GACpBF,EAASE,EAAEC,OAAOC,QAKiCC,KAAK,SACtD,wBAAQC,QAASP,EAAjB,wBCSSQ,EAjBC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACjB,OACE,sBAAKb,UAAU,UAAf,UACE,6CAAWa,EAAKC,gBAChB,qBAAKd,UAAU,iBAAf,SACE,mBAAGQ,OAAO,SAASO,KAAMF,EAAKG,IAAIC,MAAlC,SACE,qBAAKD,IAAKH,EAAKG,IAAIC,MAAOC,IAAI,SAGlC,4BAEE,mBAAGV,OAAO,SAASO,KAAMF,EAAKG,IAAIC,cC0E3BE,EAnFE,WACf,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAchB,EAAd,KAEA,EAAsBe,mBAAS,MAA/B,mBAAKP,EAAL,KAAWS,EAAX,KACA,EAAsBF,mBAAS,GAA/B,mBAAKG,EAAL,KAAWC,EAAX,KACA,EAA0CJ,mBAAS,IAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KACMC,EAAO,2DAEPC,EAAY,uDACZC,EAAS,iDAA6CJ,EAA7C,uBAGTrB,EAAM,uCAAG,WAAO0B,GAAP,iBAAAC,EAAA,6DACbP,EAAQ,GADK,SAEWQ,MAAMF,EAAK,CACjCG,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAeT,KANN,cAEPU,EAFO,gBAUUA,EAAUC,OAVpB,OAUTC,EAVS,OAYbjB,EAAQiB,EAAWC,QAZN,2CAAH,sDAgBNC,EAAW,uCAAG,gCAAAV,EAAA,6DAGhBW,EADoB,KAAlBjB,EACI,iDAA6CF,EAA7C,gBAEA,iDAA6CE,EAA7C,6BAA+EF,GAEvFC,EAAQD,EAAO,GAPG,SAQMS,MAAMU,EAAQ,CACpCT,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAeT,KAZD,cAQZU,EARY,gBAeKA,EAAUC,OAff,OAedC,EAfc,OAgBlBjB,EAAQT,EAAK8B,OAAOJ,EAAWC,SAhBb,2CAAH,qDAgCjB,OAZAI,qBAAU,WACRxC,EAAOwB,KACN,IAEHgB,qBAAU,WAENxC,EADoB,KAAlBqB,EACKG,EAEAC,KAER,CAACJ,IAGF,sBAAKoB,MAAO,CAAEC,UAAW,SAAzB,UACE,cAAC,EAAD,CACE1C,OAAQ,WAENsB,EAAiBL,IAEnBhB,SAAUA,IAEZ,qBAAKL,UAAU,WAAf,SACGa,GACCA,EAAKkC,KAAI,SAACC,GACR,OAAO,cAAC,EAAD,CAASnC,KAAMmC,SAI5B,qBAAKhD,UAAU,cAAf,SACE,wBAAQW,QAAS8B,EAAjB,6B,aCtDOQ,MAlBf,WACE,OACE,sBAAKjD,UAAU,MAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkD,KAAK,IAAIC,OAAK,EAArB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAK,OAK5B,cAAC,EAAD,QChBNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.d6a67edb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        <li className=\"title\">\r\n          <p>Picture search web</p>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/\"></Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/about\"></Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n      盧廼安&nbsp;&nbsp;&nbsp;&nbsp;\n      <h5> email:nancyapple123123@gmail.com</h5>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\r\n\r\nconst Search = ({ search, setInput }) => {\r\n  const inputHandler = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <input className=\"input\" onChange={inputHandler} type=\"text\" />\r\n      <button onClick={search}>Search</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Picture = ({ data }) => {\r\n  return (\r\n    <div className=\"picture\">\r\n      <p>Author：{data.photographer}</p>\r\n      <div className=\"imageContainer\">\r\n        <a target=\"_blank\" href={data.src.large}>\r\n          <img src={data.src.large} alt=\"\" />\r\n        </a>\r\n      </div>\r\n      <p>\r\n        {/*新增頁面*/}\r\n        <a target=\"_blank\" href={data.src.large}></a>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Picture;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Search from \"../components/Search\";\r\nimport Picture from \"../components/Picture\";\r\n\r\nconst Homepage = () => {\r\n  const [input, setInput] = useState(\"\");\r\n  //State指所有圖片知訊\r\n  let [data, setData] = useState(null);\r\n  let [page, setPage] = useState(1);\r\n  const [currentSearch, setCurrentSearch] = useState(\"\");\r\n  const auth = \"563492ad6f91700001000001ac22187f3df749b5ac359637c75cb9b5\";\r\n  //在第一頁的位置有要15張相片\r\n  const intialURL = \"https://api.pexels.com/v1/curated?page=1&per_page=15\";\r\n  const searchURL = `https://api.pexels.com/v1/search?query=${currentSearch}&per_page=15&page=1`;\r\n\r\n  // 從 pexels api 獲取數據\r\n  const search = async (url) => {\r\n    setPage(2);\r\n    const dataFetch = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: auth,\r\n      },\r\n    });\r\n    //抓來的圖片\r\n    let parsedData = await dataFetch.json();\r\n    //在data顯示15張照片\r\n    setData(parsedData.photos);\r\n  };\r\n\r\n  // 加載更多圖片\r\n  const morepicture = async () => {\r\n    let newURL;\r\n    if (currentSearch === \"\") {\r\n      newURL = `https://api.pexels.com/v1/curated?page=${page}&per_page=15`;\r\n    } else {\r\n      newURL = `https://api.pexels.com/v1/search?query=${currentSearch}&per_page=15&page=${page}`;\r\n    }\r\n    setPage(page + 1);\r\n    const dataFetch = await fetch(newURL, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: auth,\r\n      },\r\n    });\r\n    let parsedData = await dataFetch.json();\r\n    setData(data.concat(parsedData.photos));\r\n  };\r\n\r\n  // 頁面加載時獲取數據\r\n  useEffect(() => {\r\n    search(intialURL);\r\n  }, []);\r\n  //開啟頁面時直接跑圖片\r\n  useEffect(() => {\r\n    if (currentSearch === \"\") {\r\n      search(intialURL);\r\n    } else {\r\n      search(searchURL);\r\n    }\r\n  }, [currentSearch]);\r\n\r\n  return (\r\n    <div style={{ minHeight: \"100vh\" }}>\r\n      <Search\r\n        search={() => {\r\n          // JS Closure\r\n          setCurrentSearch(input);\r\n        }}\r\n        setInput={setInput}\r\n      />\r\n      <div className=\"pictures\">\r\n        {data &&\r\n          data.map((d) => {\r\n            return <Picture data={d} />;\r\n          })}\r\n      </div>\r\n\r\n      <div className=\"morePicture\">\r\n        <button onClick={morepicture}>Load More</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Homepage from \"./pages/Homepage\";\n//網址Routing\nimport About from \"./pages/About\";\nimport { Switch, Route } from \"react-router-dom\";\nimport \"./styles/style.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Nav />\n      <Switch>\n        <Route path=\"/\" exact>\n          <Homepage />\n        </Route>\n        <Route path=\"/about\" exact>\n          {/*<About />*/}\n        </Route>\n      </Switch>\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport Nav from \"./components/Nav\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}